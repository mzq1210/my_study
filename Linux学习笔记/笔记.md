### 第一天

```bash
#进入centos光盘安装界面后，按tab键，出来一堆字母，后面接着输入……
#注意……后面的空格，省略号代表自带的命令
> …… net.ifnames=0 biosdevname=0
```

### 第二天

```bash
#克隆虚拟机,修改克隆副本的ip地址
vim /etc/sysconfig/network-scripts/ifcfg-eth0
#重启网卡
/etc/init.d/network restart
```

### 第四天

![WX20220803-210134@2x](笔记.assets/WX20220803-210134@2x.png)

```bash
#man 在线命令手册
man ls

#创建多级目录
mkdir -p /dsf/ert/fghd

# -r 递归复制
cp -r

# -a 递归并保持文件属性（常用）
cp -a

#mv指代剪切功能兼具重命名
mv  
```

### 第六天

#### 1.文件作用

![WX20220803-220646@2x](笔记.assets/WX20220803-220646@2x.png)

![WX20220803-220941@2x](笔记.assets/WX20220803-220941@2x.png)

#### 2.命令

```bash
#挂载外部磁盘设备
#确认房子是否建好
ls -l /dev/cdrom
#确认门是否为空
ls -l /mnt
#门安装到房子上
mount /dev/cdrom /mnt

#卸载磁盘
umount /mnt

#查看挂在状态
df -h

#centos7重启服务
systemctl restart network
#centos6重启服务
/etc/init.d/network restart

#查看ip
ip address show eth0

#配置DNS服务
vim /etc/resolv.conf
#写入
nameserver 233.5.5.5
```



### 第七天 /etc配置文件

```bash
#一、centos改主机名
vim /etc/hostname


#二、自动挂载流程
1.购买硬件设备，重启服务器
2.查看是否识别到新设备并分区
fdisk -l
3.格式化设备
mkfs.xfs /dev/sdb1
4.挂载（临时）
mount /dev/sdb1 /mnt
#磁盘自动挂载文件配置（永久挂载）
vim /etc/fstab
#查看挂载情况
df -h

#三、文件中是启动时候自动运行的命令，类似自启动
echo 'ls -l ~' >> /etc/rc.local

#四、设置运行级别
cat /etc/inittab
systemctl set-default rescue.target
#查看当前级别
systemctl get-default

#五、设置环境变量信息
echo 'test=34343' >> /etc/profile
#设置以后需要加载
source /etc/profile

#可以用source命令加载的文件
/etc/profile      #全局作用域
/etc/bashrc				#全局作用域
~/.bashrc					#用户作用域
~/.bashrc_profile	#用户作用域

#六、登陆文件
#登陆之前提示文件
/etc/issue
#登陆之后提示文件
/etc/motd

#systemctl其他命令
systemctl ... disable  #开机不自动运行
systemctl ... enable	 #开机自动运行
```

### 第八天 

```bash
#/usr目录 系统软件包安装位置********

#监控审计
/usr/local/jumpserver

#系统中如何安装软件
#一. yum安装
yum -y install bash-completion
#查看是否安装成功
rpm -qa bash-completion
# -qa 还可用于搜索软件包
rpm -qa vim-*

#查看某个软件安装文件的所有位置
rpm -ql bash-completion

#二、rpm安装(需要注意自己解决依赖关系，安装其他的依赖包)
rpm -ivh bash-completion

#三、编译安装
./configure  参数信息 #安装配置
make								 #编译过程
make install 				 #编译安装


#/var 目录**********
/var/log/messages  #系统运行中的一些错误信息
/var/log/secure		 #记录登录用户的成功失败信息

head /etc/services #显示文件前面10行信息
tail /etc/services #显示文件最后10行信息
#加个-f参数是实时监控查看
tail -f /etc/services 
#大F表示监控的文件被删除以后会有报错信息，且当文件恢复之后继续监控
#而小f文件被删除以后，就需要重启监控，所以一般用大F
tail -F /etc/services 

#这个软件包能在宿主机和虚拟机之间传输文件
yum -y install lrzsz

#查看指令三剑客
grep	#擅长过滤
sed		#擅长对行进行处理，对文件内容进行编辑修改
awk		#擅长对列进行处理，对日志文件进行分析

#命令代表过滤出来以后只显示前5行
# ｜是管道，用来连接命令
eg:
grep "Failed" /oldboy/2022-5-5.log|head -5
# -i 忽略大小写
grep -i "failed" /oldboy/2022-5-5.log|head -5

#日志文件进行保存备份（注意一定要切割）
vim /etc/logrotate.conf
weely 			#按照周切割
rotate 4 		#只保留最近的4份
create 			#分割之后创建新文件，一般默认
dateext 		#日志文件名后缀
compress 		#是否压缩，把注释解开就行
include  		#包含的其他文件，这个需要额外注意

# /proc目录 ********
# 目录中的数据是系统硬件信息，这些都保存在内存中
#查看cpu信息 
cat /proc/cpuinfo 或 lscpu
#查看内存信息 
cat /proc/meminfo 或 free -h


#运维工作流程
1.查看系统版本
cat /etc/redhat-release
2.查看系统内核
uname -r
3.添加用户
useradd oldboy
passwd oldboy
4.切换用户(标准的切换root用户一般都会在中间加上-，不加-有些环境变量会引起某些意外)
su - root

#显示当前登陆主机的用户身份信息
whoami
```



### 第九天 

#### 设置环境变量

```bash
# 1.打开文件
vim /etc/profile
# 2.写入
export PS1='dffddffdfd'
#3.重载文件
source /etc/profile
```

#### 修改yum源

[阿里巴巴镜像源(一定要注意centos系统版本)](https://developer.aliyun.com/mirror/centos?spm=a2c6h.13651102.0.0.3e221b11mP40o1)

#### 推荐卸载软件的方法

```bash
rpm -e 软件名称 --nodepth
```

#### yum命令

```bash
yum list  		#显示仓库中可以下载软件的列表
yum repolist  #显示可用软件仓库信息
yum reinstall #重新安装软件
```

#### 优化安全策略

```bash
#selinux 控制root的权限
#开启/关闭，修改之后需要重启服务器，但企业一般不重启服务器，所以只需要临时关闭
vim /etc/selinux/config

#临时关闭selinux
setenforce 0
#检测是否关闭
getenforce

#临时防火墙的开关
#centos7
systemctl stop firewalld.service
systemctl status firewalld.service

#centos6
/etc/init.d/iptables stop
/etc/init.d/iptables status

#永久防火墙的开关
#centos7
systemctl disable firewalld.service #关
systemctl enable firewalld.service  #开

#centos6
chkconfig iptables off
```

#### 优化字符编码

[安装中文man命令手册](https://blog.csdn.net/weixin_62964420/article/details/121226708)

```bash
#修改命令提示符，用处不大
export PS1=

#设置系统字符编码
export LANG=en_US.UTF-8 >> /etc/profile
#还可以改成这个，让安装软件的时候显示中文，不过没必要
export LANG=zh_CN.UTF-8 >> /etc/profile

#显示系统所有环境变量
env
```

#### 批量创建

```bash
#批量创建文件
touch oldboy{01..20}

#批量创建目录
mkdir -p oldboy{01..20}/{01..03}
```

#### 查看文件信息

```bash
cat file1 file2
cat -n file
less file  #空格向下翻，b向上翻，/搜索

# -B代表before，匹配oldboy的字符串并显示之前的5行
# -A代表after		代表后5行
# -C代表center 代表上下5行
grep -B 5 'oldboy' ./2046-6-5.log

# 字符串最后的p需要带着,表示输出显示内容 -n代表不显示其他数据行
sed -n '/oldboy03/p' ./2046-6-5.log
#sed修改(这种的万一改错了怎么办)
sed -i 's#oldboy#oldgirl#g' ./2046-6-5.log
#sed修改并备份原件
sed -i.bak 's#oldboy#oldgirl#g' ./2046-6-5.log

awk '/oldboy03/' ./2046-6-5.log
```

